<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.sean.seckill.mapper.GoodsMapper">
    <!-- 通用查询映射结果 -->
    <resultMap id="BaseResultMap" type="com.sean.seckill.model.dto.Goods">
        <id column="id" property="id"/>
        <result column="goodsName" property="goodsName"/>
        <result column="goodsTitle" property="goodsTitle"/>
        <result column="goodsImg" property="goodsImg"/>
        <result column="goodsDetail" property="goodsDetail"/>
        <result column="goodsPrice" property="goodsPrice"/>
        <result column="goodsStock" property="goodsStock"/>
        <result column="create_time" property="createTime"/>
        <result column="update_time" property="updateTime"/>
        <result column="is_delete" property="isDelete"/>
    </resultMap>
    <select id="findGoodsVoList" resultType="com.sean.seckill.model.vo.GoodsVo">
        select g.id,
               g.goods_name,
               g.goods_title,
               g.goods_img,
               g.goods_detail,
               sg.seckill_price,
               sg.stock_count,
               sg.start_date,
               sg.end_date
        from goods g
                 left join seckill_goods as sg
                           on g.id = sg.goods_id;
    </select>
    <select id="findGoodsVOByGoodsId" resultType="com.sean.seckill.model.vo.GoodsVo">
        select g.id,
               g.goods_name,
               g.goods_title,
               g.goods_img,
               g.goods_detail,
               sg.seckill_price,
               sg.stock_count,
               sg.start_date,
               sg.end_date
        from goods g
                 left join seckill_goods as sg
                           on g.id = sg.goods_id
        WHERE g.id = #{goodsId};
    </select>
</mapper>